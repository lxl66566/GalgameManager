# GalgameManager

基于 Tauri 和 SolidJS 的游戏启动器，用于管理游戏平台之外的 Galgame 或其他游戏。

它可以做到：

- 跨设备同步配置与存档
  - 当前支持本地路径、WebDAV 和 S3 作为存储后端（如果有其他后端需求，可以提 issue）
  - 高效的压缩算法（squashfs + zstd，可调压缩级别）
  - 通过自定义变量，支持不同设备上使用不同路径
  - 灵活的存档管理与恢复
- 精确的游玩时长记录（可选：仅记录窗口焦点时长 或 运行时长）
- 日志系统（支持 diff）、每日配置快照，确保用户数据安全
- 多语言支持

## Screenshots

![主界面](./assets/main.png)
![游戏编辑](./assets/edit.png)
![存档管理](./assets/sync.png)

## TODO

- [x] 存档备份与同步
- [x] 游玩时长记录
- [x] i18n
- [ ] 插件系统与启动链
- [ ] 支持更多存储后端
- [ ] unix exec 优化

## [开发文档](./docs/dev.md)

## Changelog

### Unstable

- 修复：图片无法缓存
- UI 优化：将图片加载失败视为次要错误

### v0.1.4

- 修复：变量编辑器无法连续输入
- 修复：自动上传配置在游戏进行时失效
- 修复：运行本地不存在的游戏时显示报错信息
- 修复：备份失败时移除本地的 0KB 备份文件

### v0.1.3

- 修复：自动上传配置时远端配置不存在的相关逻辑与交互
- 修复：新设备无法首次拉取存档
- 修复：自动上传配置不生效
- 日志系统
- 同步界面显示文件大小
- 添加游戏时自动转换反斜杠
- interval 设为 0 禁用自动上传配置
- UI 优化：scroll bar，侧边栏禁止拖拽
- 交互优化：退出时上传配置失败后提醒用户
- 逻辑优化：快照改为 copy

### v0.1.2

- 修复：游戏 playing 状态在切换页面后丢失
- 支持更加精确的游玩时长记录（Windows only）
- 默认使用系统语言
- 支持游戏排序

### v0.1.1

- 关键修复：部分依赖 current directory 的游戏无法启动
- 修复：上次游玩时间前端不自动更新
- 修复：游戏删除时自动删除 local & remote 存档；游戏删除二次确认
- 自动恢复窗口大小/位置；防止重复启动
- 每日自动备份配置
- 扩大 i18n 覆盖范围
- 支持亮暗主题切换

### v0.1.0

- 存档备份与恢复、上传与下载
- 基于开始与结束时间的游玩时长记录，Windows 上可追踪游戏子进程
- 设备变量编辑与解析
- 图片下载与本地缓存
- 配置备份，支持定时上传、程序关闭时上传
- 启动时自动拉取最新配置，支持撤销
- 最小化到系统托盘
- i18n
